[
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "entries": [
        {
          "key": "database.host",
          "value": "localhost"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "database.host = localhost",
    "level": 4,
    "name": "basic_dotted_key_expansion_parse",
    "source_test": "basic_dotted_key_expansion",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "database",
          "value": "\n  host = localhost"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "database.host = localhost",
    "level": 4,
    "name": "basic_dotted_key_expansion_expanddotted",
    "source_test": "basic_dotted_key_expansion",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "database": {
          "host": "localhost"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "database.host = localhost",
    "level": 4,
    "name": "basic_dotted_key_expansion_buildhierarchy",
    "source_test": "basic_dotted_key_expansion",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 3,
      "entries": [
        {
          "key": "database.host",
          "value": "localhost"
        },
        {
          "key": "database.port",
          "value": "5432"
        },
        {
          "key": "app.name",
          "value": "MyApp"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "database.host = localhost\ndatabase.port = 5432\napp.name = MyApp",
    "level": 4,
    "name": "multiple_dotted_keys_parse",
    "source_test": "multiple_dotted_keys",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "database",
          "value": "\n  host = localhost\n  port = 5432"
        },
        {
          "key": "app",
          "value": "\n  name = MyApp"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "database.host = localhost\ndatabase.port = 5432\napp.name = MyApp",
    "level": 4,
    "name": "multiple_dotted_keys_expanddotted",
    "source_test": "multiple_dotted_keys",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "app": {
          "name": "MyApp"
        },
        "database": {
          "host": "localhost",
          "port": "5432"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "database.host = localhost\ndatabase.port = 5432\napp.name = MyApp",
    "level": 4,
    "name": "multiple_dotted_keys_buildhierarchy",
    "source_test": "multiple_dotted_keys",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 2,
      "entries": [
        {
          "key": "server.database.credentials.user",
          "value": "admin"
        },
        {
          "key": "server.database.credentials.pass",
          "value": "secret"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "server.database.credentials.user = admin\nserver.database.credentials.pass = secret",
    "level": 4,
    "name": "deep_dotted_nesting_parse",
    "source_test": "deep_dotted_nesting",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "server",
          "value": "\n  database =\n    credentials =\n      user = admin\n      pass = secret"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "server.database.credentials.user = admin\nserver.database.credentials.pass = secret",
    "level": 4,
    "name": "deep_dotted_nesting_expanddotted",
    "source_test": "deep_dotted_nesting",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "server": {
          "database": {
            "credentials": {
              "pass": "secret",
              "user": "admin"
            }
          }
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "server.database.credentials.user = admin\nserver.database.credentials.pass = secret",
    "level": 4,
    "name": "deep_dotted_nesting_buildhierarchy",
    "source_test": "deep_dotted_nesting",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 4,
      "entries": [
        {
          "key": "app",
          "value": "MyApp"
        },
        {
          "key": "database.host",
          "value": "localhost"
        },
        {
          "key": "config",
          "value": "\n  debug = true"
        },
        {
          "key": "logging.level",
          "value": "info"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "app = MyApp\ndatabase.host = localhost\nconfig =\n  debug = true\nlogging.level = info",
    "level": 4,
    "name": "mixed_dotted_and_regular_keys_parse",
    "source_test": "mixed_dotted_and_regular_keys",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "app",
          "value": "MyApp"
        },
        {
          "key": "database",
          "value": "\n  host = localhost"
        },
        {
          "key": "config",
          "value": "\n  debug = true"
        },
        {
          "key": "logging",
          "value": "\n  level = info"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "app = MyApp\ndatabase.host = localhost\nconfig =\n  debug = true\nlogging.level = info",
    "level": 4,
    "name": "mixed_dotted_and_regular_keys_expanddotted",
    "source_test": "mixed_dotted_and_regular_keys",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "app": "MyApp",
        "config": {
          "debug": "true"
        },
        "database": {
          "host": "localhost"
        },
        "logging": {
          "level": "info"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "app = MyApp\ndatabase.host = localhost\nconfig =\n  debug = true\nlogging.level = info",
    "level": 4,
    "name": "mixed_dotted_and_regular_keys_buildhierarchy",
    "source_test": "mixed_dotted_and_regular_keys",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 2,
      "entries": [
        {
          "key": "database",
          "value": "old_value"
        },
        {
          "key": "database.host",
          "value": "localhost"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "database = old_value\ndatabase.host = localhost",
    "level": 4,
    "name": "dotted_key_conflicts_resolution_parse",
    "source_test": "dotted_key_conflicts_resolution",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "database",
          "value": "\n  host = localhost"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "database = old_value\ndatabase.host = localhost",
    "level": 4,
    "name": "dotted_key_conflicts_resolution_expanddotted",
    "source_test": "dotted_key_conflicts_resolution",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "database": {
          "host": "localhost"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "database = old_value\ndatabase.host = localhost",
    "level": 4,
    "name": "dotted_key_conflicts_resolution_buildhierarchy",
    "source_test": "dotted_key_conflicts_resolution",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 3,
      "entries": [
        {
          "key": "servers.web",
          "value": "web1"
        },
        {
          "key": "servers.web",
          "value": "web2"
        },
        {
          "key": "servers.api",
          "value": "api1"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "servers.web = web1\nservers.web = web2\nservers.api = api1",
    "level": 4,
    "name": "dotted_keys_with_lists_parse",
    "source_test": "dotted_keys_with_lists",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "servers",
          "value": "\n  web = web1\n  web = web2\n  api = api1"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "servers.web = web1\nservers.web = web2\nservers.api = api1",
    "level": 4,
    "name": "dotted_keys_with_lists_expanddotted",
    "source_test": "dotted_keys_with_lists",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "servers": {
          "api": "api1",
          "web": [
            "web1",
            "web2"
          ]
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "servers.web = web1\nservers.web = web2\nservers.api = api1",
    "level": 4,
    "name": "dotted_keys_with_lists_buildhierarchy",
    "source_test": "dotted_keys_with_lists",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "entries": [
        {
          "key": "a..b",
          "value": "value"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "a..b = value",
    "level": 4,
    "name": "empty_dotted_key_segments_parse",
    "source_test": "empty_dotted_key_segments",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "a",
          "value": "\n   =\n    b = value"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "a..b = value",
    "level": 4,
    "name": "empty_dotted_key_segments_expanddotted",
    "source_test": "empty_dotted_key_segments",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "a": {
          "": {
            "b": "value"
          }
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "a..b = value",
    "level": 4,
    "name": "empty_dotted_key_segments_buildhierarchy",
    "source_test": "empty_dotted_key_segments",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "entries": [
        {
          "key": "a.",
          "value": "value"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "a. = value",
    "level": 4,
    "name": "single_dot_key_parse",
    "source_test": "single_dot_key",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "a",
          "value": "\n   = value"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "a. = value",
    "level": 4,
    "name": "single_dot_key_expanddotted",
    "source_test": "single_dot_key",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "a": {
          "": "value"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "a. = value",
    "level": 4,
    "name": "single_dot_key_buildhierarchy",
    "source_test": "single_dot_key",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "entries": [
        {
          "key": "database",
          "value": "\n  enabled = true\n  port = 5432"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "database =\n  enabled = true\n  port = 5432",
    "level": 4,
    "name": "hierarchical_with_expand_dotted_validation_parse",
    "source_test": "hierarchical_with_expand_dotted_validation",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        {
          "key": "database",
          "value": ""
        },
        {
          "key": "database.enabled",
          "value": "true"
        },
        {
          "key": "database.port",
          "value": "5432"
        }
      ]
    },
    "features": null,
    "functions": [
      "expanddotted"
    ],
    "input": "database =\n  enabled = true\n  port = 5432",
    "level": 4,
    "name": "hierarchical_with_expand_dotted_validation_expanddotted",
    "source_test": "hierarchical_with_expand_dotted_validation",
    "validation": "expanddotted",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "database": {
          "enabled": "true",
          "port": "5432"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "database =\n  enabled = true\n  port = 5432",
    "level": 4,
    "name": "hierarchical_with_expand_dotted_validation_buildhierarchy",
    "source_test": "hierarchical_with_expand_dotted_validation",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 3,
      "entries": [
        {
          "key": "database.hosts",
          "value": "primary"
        },
        {
          "key": "database.hosts",
          "value": "secondary"
        },
        {
          "key": "database.port",
          "value": "5432"
        }
      ]
    },
    "features": null,
    "functions": [
      "parse"
    ],
    "input": "database.hosts = primary\ndatabase.hosts = secondary\ndatabase.port = 5432",
    "level": 4,
    "name": "dotted_key_list_access_parse",
    "source_test": "dotted_key_list_access",
    "validation": "parse",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": {
        "database": {
          "hosts": [
            "primary",
            "secondary"
          ],
          "port": "5432"
        }
      }
    },
    "features": null,
    "functions": [
      "buildhierarchy"
    ],
    "input": "database.hosts = primary\ndatabase.hosts = secondary\ndatabase.port = 5432",
    "level": 4,
    "name": "dotted_key_list_access_buildhierarchy",
    "source_test": "dotted_key_list_access",
    "validation": "buildhierarchy",
    "variants": null
  },
  {
    "$schema": "ccl-test-current-flat-format",
    "behaviors": null,
    "expected": {
      "count": 1,
      "value": [
        "5432"
      ]
    },
    "features": null,
    "functions": [
      "getlist"
    ],
    "input": "database.hosts = primary\ndatabase.hosts = secondary\ndatabase.port = 5432",
    "level": 4,
    "name": "dotted_key_list_access_getlist",
    "source_test": "dotted_key_list_access",
    "validation": "getlist",
    "variants": null
  }
]