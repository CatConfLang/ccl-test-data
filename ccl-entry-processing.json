{
  "suite": "CCL Entry Processing", 
  "version": "1.0",
  "description": "Level 2: Processing Entry[] to filtered/grouped Entry[] - comments, filtering, composition",
  "tests": [
    {
      "name": "comment_extension",
      "input": "/= This is an environment section\nport = 8080\nserve = index.html\n/= Database section\nmode = in-memory\nconnections = 16",
      "expected": [
        {"key": "/", "value": "This is an environment section"},
        {"key": "port", "value": "8080"},
        {"key": "serve", "value": "index.html"},
        {"key": "/", "value": "Database section"},
        {"key": "mode", "value": "in-memory"},
        {"key": "connections", "value": "16"}
      ],
      "meta": {"tags": ["comments", "extension"], "level": 2}
    },
    {
      "name": "comment_syntax_slash_equals",
      "input": "/= this is a comment",
      "expected": [
        {"key": "/", "value": "this is a comment"}
      ],
      "meta": {"tags": ["comment", "special-syntax"], "level": 2}
    },
    {
      "name": "composition_stability_duplicate_keys",
      "input": "a = 1\nb = 2\nb = 20\nc = 3",
      "expected": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "b", "value": "20"},
        {"key": "c", "value": "3"}
      ],
      "meta": {"tags": ["composition", "duplicate-keys"], "level": 2}
    },
    {
      "name": "multiple_values_same_key",
      "input": "ports = 8000\nports = 8001\nports = 8002",
      "expected": [
        {"key": "ports", "value": "8000"},
        {"key": "ports", "value": "8001"},
        {"key": "ports", "value": "8002"}
      ],
      "meta": {"tags": ["duplicate-keys", "multiple-values"], "level": 2}
    },
    {
      "name": "list_with_empty_keys",
      "input": "= 3\n= 1\n= 2",
      "expected": [
        {"key": "", "value": "3"},
        {"key": "", "value": "1"},
        {"key": "", "value": "2"}
      ],
      "meta": {"tags": ["lists", "empty-key"], "level": 2}
    },
    {
      "name": "section_style_syntax",
      "input": "== Section 2 ==",
      "expected": [
        {"key": "", "value": "= Section 2 =="}
      ],
      "meta": {"tags": ["section", "empty-key", "special-syntax"], "level": 2}
    },
    {
      "name": "composition_stability_ab",
      "input": "a = 1\nb = 2\nb = 20\nc = 3",
      "expected": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "b", "value": "20"},
        {"key": "c", "value": "3"}
      ],
      "meta": {"tags": ["composition", "duplicate-keys", "redundant"], "level": 2}
    },
    {
      "name": "composition_stability_ba",
      "input": "b = 20\nc = 3\na = 1\nb = 2",
      "expected": [
        {"key": "b", "value": "20"},
        {"key": "c", "value": "3"},
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"}
      ],
      "meta": {"tags": ["composition", "duplicate-keys", "redundant"], "level": 2}
    },
    {
      "name": "multiple_values_same_key_ports",
      "input": "ports = 8000\nports = 8001\nports = 8002",
      "expected": [
        {"key": "ports", "value": "8000"},
        {"key": "ports", "value": "8001"},
        {"key": "ports", "value": "8002"}
      ],
      "meta": {"tags": ["duplicate-keys", "multiple-values", "redundant"], "level": 2}
    },
    {
      "name": "mixed_keys_with_duplicates",
      "input": "name = app\nports = 8000\nname = service\nports = 8001",
      "expected": [
        {"key": "name", "value": "app"},
        {"key": "ports", "value": "8000"},
        {"key": "name", "value": "service"},
        {"key": "ports", "value": "8001"}
      ],
      "meta": {"tags": ["duplicate-keys", "mixed", "redundant"], "level": 2}
    },
    {
      "name": "array_style_list",
      "input": "1 =\n2 =\n3 =",
      "expected": [
        {"key": "1", "value": ""},
        {"key": "2", "value": ""},
        {"key": "3", "value": ""}
      ],
      "meta": {"tags": ["lists", "empty-value", "redundant"], "level": 2}
    }
  ],
  "composition_tests": [
    {
      "name": "monoid_identity_left_empty",
      "property": "monoid_identity_left",
      "input1": "",
      "input2": "key = value",
      "expected_combined": [
        {"key": "key", "value": "value"}
      ],
      "meta": {"tags": ["algebraic", "monoid", "identity"], "level": 2}
    },
    {
      "name": "monoid_identity_right_empty", 
      "property": "monoid_identity_right",
      "input1": "key = value",
      "input2": "",
      "expected_combined": [
        {"key": "key", "value": "value"}
      ],
      "meta": {"tags": ["algebraic", "monoid", "identity"], "level": 2}
    },
    {
      "name": "semigroup_associativity_three_configs",
      "property": "semigroup_associativity",
      "input1": "a = 1",
      "input2": "b = 2", 
      "input3": "c = 3",
      "expected_left_assoc": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "c", "value": "3"}
      ],
      "expected_right_assoc": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "c", "value": "3"}
      ],
      "meta": {"tags": ["algebraic", "semigroup", "associativity"], "level": 2}
    },
    {
      "name": "composition_closure_property",
      "property": "closure",
      "input1": "name = alice\nage = 25",
      "input2": "city = boston\nage = 26",
      "expected_combined": [
        {"key": "name", "value": "alice"},
        {"key": "age", "value": "25"},
        {"key": "city", "value": "boston"},
        {"key": "age", "value": "26"}
      ],
      "meta": {"tags": ["algebraic", "closure", "composition"], "level": 2}
    }
  ]
}