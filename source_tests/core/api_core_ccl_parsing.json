{
  "$schema": "../../schemas/source-format.json",
  "tests": [
    {
      "name": "basic_key_value_pairs",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "name",
              "value": "Alice"
            },
            {
              "key": "age",
              "value": "42"
            }
          ]
        },
        {
          "function": "print",
          "expect": "name = Alice\nage = 42"
        }
      ],
      "inputs": [
        "name = Alice\nage = 42"
      ]
    },
    {
      "name": "equals_in_values",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "msg",
              "value": "k=v pairs work fine"
            },
            {
              "key": "path",
              "value": "/bin/app=prod"
            }
          ]
        },
        {
          "function": "print",
          "expect": "msg = k=v pairs work fine\npath = /bin/app=prod"
        }
      ],
      "inputs": [
        "msg = k=v pairs work fine\npath = /bin/app=prod"
      ]
    },
    {
      "name": "whitespace_trimming",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "key",
              "value": "value with spaces"
            },
            {
              "key": "other",
              "value": "normal"
            }
          ]
        }
      ],
      "features": [
        "whitespace"
      ],
      "inputs": [
        "  key   =    value with spaces   \nother = normal"
      ]
    },
    {
      "name": "multiline_values",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "description",
              "value": "First line\n  Second line\n  Third line"
            },
            {
              "key": "done",
              "value": "yes"
            }
          ]
        },
        {
          "function": "print",
          "expect": "description = First line\n  Second line\n  Third line\ndone = yes"
        }
      ],
      "features": [
        "multiline"
      ],
      "inputs": [
        "description = First line\n  Second line\n  Third line\ndone = yes"
      ]
    },
    {
      "name": "empty_values",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "empty",
              "value": ""
            },
            {
              "key": "other",
              "value": "value"
            }
          ]
        },
        {
          "function": "print",
          "expect": "empty = \nother = value"
        }
      ],
      "features": [
        "empty_keys"
      ],
      "inputs": [
        "empty =\nother = value"
      ]
    },
    {
      "name": "nested_structure_parsing",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "database",
              "value": "\n  host = localhost\n  port = 5432"
            }
          ]
        },
        {
          "function": "print",
          "expect": "database = \n  host = localhost\n  port = 5432"
        }
      ],
      "inputs": [
        "database =\n  host = localhost\n  port = 5432"
      ]
    },
    {
      "name": "unicode_parsing",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "emoji",
              "value": "ğŸ˜€ğŸ˜ƒğŸ˜„"
            },
            {
              "key": "é…ç½®",
              "value": "config"
            }
          ]
        },
        {
          "function": "print",
          "expect": "emoji = ğŸ˜€ğŸ˜ƒğŸ˜„\né…ç½® = config"
        }
      ],
      "features": [
        "unicode"
      ],
      "inputs": [
        "emoji = ğŸ˜€ğŸ˜ƒğŸ˜„\né…ç½® = config"
      ]
    },
    {
      "name": "empty_input",
      "tests": [
        {
          "function": "parse",
          "expect": []
        },
        {
          "function": "print",
          "expect": ""
        }
      ],
      "inputs": [
        ""
      ]
    },
    {
      "name": "leading_whitespace_baseline_zero",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "key",
              "value": "value\n  second"
            }
          ]
        }
      ],
      "features": [
        "whitespace"
      ],
      "behaviors": [
        "baseline_zero"
      ],
      "variants": [
        "reference_compliant"
      ],
      "conflicts": {
        "behaviors": ["baseline_first_key"]
      },
      "inputs": [
        "  key = value\n  second"
      ]
    },
    {
      "name": "leading_whitespace_multiple_entries",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "key1",
              "value": "value1"
            },
            {
              "key": "key2",
              "value": "value2"
            }
          ]
        }
      ],
      "features": [
        "whitespace"
      ],
      "inputs": [
        "  key1 = value1\nkey2 = value2"
      ]
    },
    {
      "name": "leading_whitespace_baseline_first_key",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "key",
              "value": "value"
            },
            {
              "key": "second",
              "value": "entry"
            }
          ]
        }
      ],
      "features": [
        "whitespace"
      ],
      "behaviors": [
        "baseline_first_key"
      ],
      "conflicts": {
        "behaviors": ["baseline_zero"]
      },
      "inputs": [
        "  key = value\n  second = entry"
      ]
    }
  ]
}
