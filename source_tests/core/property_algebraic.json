{
  "$schema": "../../schemas/source-format.json",
  "tests": [
    {
      "name": "semigroup_associativity_basic",
      "inputs": ["a = 1", "b = 2", "c = 3"],
      "tests": [
        {
          "function": "compose_associative",
          "expect": true
        }
      ]
    },
    {
      "name": "semigroup_associativity_nested",
      "inputs": [
        "config =\n  host = localhost",
        "config =\n  port = 8080",
        "db =\n  name = test"
      ],
      "tests": [
        {
          "function": "compose_associative",
          "expect": true
        }
      ]
    },
    {
      "name": "semigroup_associativity_lists",
      "inputs": ["= item1", "= item2", "= item3"],
      "tests": [
        {
          "function": "compose_associative",
          "expect": true
        }
      ],
      "features": [
        "empty_keys"
      ]
    },
    {
      "name": "monoid_left_identity_basic",
      "inputs": ["", "key = value\nnested =\n  sub = val"],
      "tests": [
        {
          "function": "identity_left",
          "expect": true
        }
      ]
    },
    {
      "name": "monoid_right_identity_basic",
      "inputs": ["key = value\nnested =\n  sub = val", ""],
      "tests": [
        {
          "function": "identity_right",
          "expect": true
        }
      ]
    },
    {
      "name": "monoid_left_identity_nested",
      "inputs": [
        "",
        "config =\n  database =\n    host = localhost\n    port = 5432\n  cache =\n    redis = true"
      ],
      "tests": [
        {
          "function": "identity_left",
          "expect": true
        }
      ]
    },
    {
      "name": "monoid_right_identity_nested",
      "inputs": [
        "config =\n  database =\n    host = localhost\n    port = 5432\n  cache =\n    redis = true",
        ""
      ],
      "tests": [
        {
          "function": "identity_right",
          "expect": true
        }
      ]
    },
    {
      "name": "monoid_left_identity_lists",
      "inputs": ["", "= item1\n= item2\n= item3"],
      "tests": [
        {
          "function": "identity_left",
          "expect": true
        }
      ],
      "features": [
        "empty_keys"
      ]
    },
    {
      "name": "monoid_right_identity_lists",
      "inputs": ["= item1\n= item2\n= item3", ""],
      "tests": [
        {
          "function": "identity_right",
          "expect": true
        }
      ],
      "features": [
        "empty_keys"
      ]
    },
    {
      "name": "round_trip_property_basic",
      "input": "key = value\nanother = test",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {"key": "key", "value": "value"},
            {"key": "another", "value": "test"}
          ]
        },
        {
          "function": "print",
          "expect": "key = value\nanother = test"
        },
        {
          "function": "round_trip",
          "expect": true
        }
      ]
    },
    {
      "name": "round_trip_property_nested",
      "input": "config =\n  host = localhost\n  port = 8080\n  db =\n    name = mydb\n    user = admin",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {
              "key": "config",
              "value": "\n  host = localhost\n  port = 8080\n  db =\n    name = mydb\n    user = admin"
            }
          ]
        },
        {
          "function": "print",
          "expect": "config = \n  host = localhost\n  port = 8080\n  db =\n    name = mydb\n    user = admin"
        },
        {
          "function": "round_trip",
          "expect": true
        }
      ]
    },
    {
      "name": "round_trip_property_complex",
      "input": "= item1\n= item2\nconfig =\n  nested =\n    deep = value\n  list =\n    = a\n    = b\n    = c\nfinal = end",
      "tests": [
        {
          "function": "parse",
          "expect": [
            {"key": "", "value": "item1"},
            {"key": "", "value": "item2"},
            {
              "key": "config",
              "value": "\n  nested =\n    deep = value\n  list =\n    = a\n    = b\n    = c"
            },
            {"key": "final", "value": "end"}
          ]
        },
        {
          "function": "print",
          "expect": " = item1\n = item2\nconfig = \n  nested =\n    deep = value\n  list =\n    = a\n    = b\n    = c\nfinal = end"
        },
        {
          "function": "round_trip",
          "expect": true
        }
      ],
      "features": [
        "empty_keys"
      ]
    }
  ]
}
