{
  "test_suite": "CCL Parser Conformance Tests",
  "version": "1.0.0",
  "description": "Language-agnostic test cases for CCL (Categorical Configuration Language) parsers",
  "tests": [
    {
      "name": "basic_pairs",
      "description": "Simple key-value pairs",
      "input": "name = Alice\nage = 42",
      "expected": [
        {"key": "name", "value": "Alice"},
        {"key": "age", "value": "42"}
      ],
      "tags": ["basic"]
    },
    {
      "name": "equals_in_values",
      "description": "Values can contain equals signs",
      "input": "msg = k=v pairs live happily here\nmore = a=b=c=d",
      "expected": [
        {"key": "msg", "value": "k=v pairs live happily here"},
        {"key": "more", "value": "a=b=c=d"}
      ],
      "tags": ["basic", "equals"]
    },
    {
      "name": "trimming_rules",
      "description": "Key whitespace trimmed, value leading spaces trimmed",
      "input": "  spaces around key   =    value with leading spaces removed and trailing tabs kept? \t\t",
      "expected": [
        {"key": "spaces around key", "value": "value with leading spaces removed and trailing tabs kept?"}
      ],
      "tags": ["whitespace", "trimming"]
    },
    {
      "name": "multiline_values",
      "description": "Multiline values with continuation lines",
      "input": "description = First\n  Second line\n  Third line\ndone = yes",
      "expected": [
        {"key": "description", "value": "First\n  Second line\n  Third line"},
        {"key": "done", "value": "yes"}
      ],
      "tags": ["multiline", "continuation"]
    },
    {
      "name": "blank_lines_in_values",
      "description": "Blank lines preserved in multiline values",
      "input": "body = Line one\n\n  Line three after a blank line",
      "expected": [
        {"key": "body", "value": "Line one\n\n  Line three after a blank line"}
      ],
      "tags": ["multiline", "blank-lines"]
    },
    {
      "name": "comment_extension",
      "description": "Comments using special key",
      "input": "/= This is an environment section\nport = 8080\nserve = index.html\n/= Database section\nmode = in-memory\nconnections = 16",
      "expected": [
        {"key": "/", "value": "This is an environment section"},
        {"key": "port", "value": "8080"},
        {"key": "serve", "value": "index.html"},
        {"key": "/", "value": "Database section"},
        {"key": "mode", "value": "in-memory"},
        {"key": "connections", "value": "16"}
      ],
      "tags": ["comments", "extension"]
    },
    {
      "name": "composition_stability_ab",
      "description": "Composition preserves order (a+b)",
      "input": "a = 1\nb = 2\nb = 20\nc = 3",
      "expected": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "b", "value": "20"},
        {"key": "c", "value": "3"}
      ],
      "tags": ["composition", "duplicate-keys"]
    },
    {
      "name": "composition_stability_ba",
      "description": "Composition preserves order (b+a)",
      "input": "b = 20\nc = 3\na = 1\nb = 2",
      "expected": [
        {"key": "b", "value": "20"},
        {"key": "c", "value": "3"},
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"}
      ],
      "tags": ["composition", "duplicate-keys"]
    },
    {
      "name": "key_with_tabs",
      "description": "Keys with tabs are trimmed",
      "input": "\tkey\t=\tvalue",
      "expected": [
        {"key": "key", "value": "\tvalue"}
      ],
      "tags": ["whitespace", "tabs"]
    },
    {
      "name": "whitespace_only_value",
      "description": "Value that is only whitespace becomes empty",
      "input": "onlyspaces =     ",
      "expected": [
        {"key": "onlyspaces", "value": ""}
      ],
      "tags": ["whitespace", "empty-value"]
    },
    {
      "name": "unicode_graphemes",
      "description": "Unicode characters in values",
      "input": "emoji = üòÄüòÉüòÑ",
      "expected": [
        {"key": "emoji", "value": "üòÄüòÉüòÑ"}
      ],
      "tags": ["unicode", "basic"]
    },
    {
      "name": "crlf_normalization",
      "description": "CRLF line endings normalized to LF",
      "input": "key1 = value1\r\nkey2 = value2\r\n",
      "expected": [
        {"key": "key1", "value": "value1"},
        {"key": "key2", "value": "value2"}
      ],
      "tags": ["line-endings", "normalization"]
    },
    {
      "name": "empty_input",
      "description": "Empty input returns empty result",
      "input": "",
      "expected": [],
      "tags": ["edge-cases", "empty"]
    },
    {
      "name": "no_equals_continuation",
      "description": "Lines without equals are continuations",
      "input": "key = first line\nsecond line without equals\nthird line",
      "expected": [
        {"key": "key", "value": "first line\nsecond line without equals\nthird line"}
      ],
      "tags": ["continuation", "multiline"]
    },
    {
      "name": "key_only_empty_value",
      "description": "Key followed by equals and no value",
      "input": "emptykey =\nother = value",
      "expected": [
        {"key": "emptykey", "value": ""},
        {"key": "other", "value": "value"}
      ],
      "tags": ["empty-value", "basic"]
    },
    {
      "name": "tab_preservation_in_values",
      "description": "Tabs preserved in values, spaces trimmed",
      "input": "mixed =    \tvalue with leading spaces and tabs\t",
      "expected": [
        {"key": "mixed", "value": "\tvalue with leading spaces and tabs"}
      ],
      "tags": ["whitespace", "tabs", "trimming"]
    },
    {
      "name": "unicode_keys",
      "description": "Unicode characters in keys",
      "input": "ÈÖçÁΩÆ = config in Chinese\n–∫–ª—é—á = key in Russian",
      "expected": [
        {"key": "ÈÖçÁΩÆ", "value": "config in Chinese"},
        {"key": "–∫–ª—é—á", "value": "key in Russian"}
      ],
      "tags": ["unicode", "keys"]
    },
    {
      "name": "mixed_indentation_continuation",
      "description": "Mixed spaces and tabs in continuation lines",
      "input": "description = First line\n    spaces indented\n\ttab indented\n  \tmixed indent",
      "expected": [
        {"key": "description", "value": "First line\n    spaces indented\n\ttab indented\n  \tmixed indent"}
      ],
      "tags": ["multiline", "indentation", "mixed-whitespace"]
    },
    {
      "name": "eof_without_newline",
      "description": "File ending without trailing newline",
      "input": "last = final value",
      "expected": [
        {"key": "last", "value": "final value"}
      ],
      "tags": ["edge-cases", "eof"]
    },
    {
      "name": "spaces_vs_tabs_continuation",
      "description": "Leading whitespace preserved in continuation lines",
      "input": "text = First\n    four spaces\n\ttab preserved",
      "expected": [
        {"key": "text", "value": "First\n    four spaces\n\ttab preserved"}
      ],
      "tags": ["continuation", "whitespace", "tabs"]
    },
    {
      "name": "basic_single_no_spaces",
      "description": "Basic single key-value without spaces",
      "input": "key=val",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["basic"]
    },
    {
      "name": "basic_with_spaces",
      "description": "Basic key-value with spaces around equals",
      "input": "key = val",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["basic", "whitespace"]
    },
    {
      "name": "indented_key",
      "description": "Key-value pair with indented key",
      "input": "  key = val",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["whitespace", "indentation"]
    },
    {
      "name": "value_trailing_spaces",
      "description": "Key-value with trailing spaces in value",
      "input": "key = val  ",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["whitespace", "trimming"]
    },
    {
      "name": "key_value_surrounded_spaces",
      "description": "Key-value with spaces around key and value",
      "input": "  key  =  val  ",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["whitespace", "trimming"]
    },
    {
      "name": "surrounded_by_newlines",
      "description": "Key-value surrounded by newlines",
      "input": "\nkey = val\n",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["line-endings"]
    },
    {
      "name": "key_empty_value",
      "description": "Key with empty value",
      "input": "key =",
      "expected": [
        {"key": "key", "value": ""}
      ],
      "tags": ["empty-value"]
    },
    {
      "name": "empty_value_with_newline",
      "description": "Key with empty value followed by newline",
      "input": "key =\n",
      "expected": [
        {"key": "key", "value": ""}
      ],
      "tags": ["empty-value", "line-endings"]
    },
    {
      "name": "empty_value_with_spaces",
      "description": "Key with empty value and trailing spaces",
      "input": "key =  ",
      "expected": [
        {"key": "key", "value": ""}
      ],
      "tags": ["empty-value", "whitespace"]
    },
    {
      "name": "empty_key_with_value",
      "description": "Empty key with value",
      "input": "= val",
      "expected": [
        {"key": "", "value": "val"}
      ],
      "tags": ["empty-key", "lists"]
    },
    {
      "name": "empty_key_indented",
      "description": "Empty key with leading indentation",
      "input": "  = val",
      "expected": [
        {"key": "", "value": "val"}
      ],
      "tags": ["empty-key", "lists", "indentation"]
    },
    {
      "name": "empty_key_with_newline",
      "description": "Empty key with leading newline and indentation",
      "input": "\n  = val",
      "expected": [
        {"key": "", "value": "val"}
      ],
      "tags": ["empty-key", "lists", "line-endings"]
    },
    {
      "name": "empty_key_and_value",
      "description": "Both key and value are empty",
      "input": "=",
      "expected": [
        {"key": "", "value": ""}
      ],
      "tags": ["empty-key", "empty-value"]
    },
    {
      "name": "empty_key_value_with_spaces",
      "description": "Empty key and value with surrounding spaces",
      "input": "  =  ",
      "expected": [
        {"key": "", "value": ""}
      ],
      "tags": ["empty-key", "empty-value", "whitespace"]
    },
    {
      "name": "equals_in_value_no_spaces",
      "description": "Equals sign in value without spaces",
      "input": "a=b=c",
      "expected": [
        {"key": "a", "value": "b=c"}
      ],
      "tags": ["equals", "basic"]
    },
    {
      "name": "equals_in_value_with_spaces",
      "description": "Equals sign in value with surrounding spaces",
      "input": "a = b = c",
      "expected": [
        {"key": "a", "value": "b = c"}
      ],
      "tags": ["equals", "whitespace"]
    },
    {
      "name": "multiple_key_value_pairs",
      "description": "Multiple key-value pairs on separate lines",
      "input": "key1 = val1\nkey2 = val2",
      "expected": [
        {"key": "key1", "value": "val1"},
        {"key": "key2", "value": "val2"}
      ],
      "tags": ["basic", "multiple"]
    },
    {
      "name": "list_with_empty_keys",
      "description": "List representation using empty keys",
      "input": "= 3\n= 1\n= 2",
      "expected": [
        {"key": "", "value": "3"},
        {"key": "", "value": "1"},
        {"key": "", "value": "2"}
      ],
      "tags": ["lists", "empty-key"]
    },
    {
      "name": "array_style_list",
      "description": "Array-style list using numeric keys with empty values",
      "input": "1 =\n2 =\n3 =",
      "expected": [
        {"key": "1", "value": ""},
        {"key": "2", "value": ""},
        {"key": "3", "value": ""}
      ],
      "tags": ["lists", "empty-value"]
    },
    {
      "name": "indented_equals_continuation",
      "description": "Indented lines with equals signs become continuation values",
      "input": "key1 = val1\n  inner = some\nkey2 = val2",
      "expected": [
        {"key": "key1", "value": "val1\n  inner = some"},
        {"key": "key2", "value": "val2"}
      ],
      "tags": ["continuation", "indentation", "equals"]
    },
    {
      "name": "nested_single_line",
      "description": "Single line nested value",
      "input": "key =\n  val",
      "expected": [
        {"key": "key", "value": "\n  val"}
      ],
      "tags": ["nested", "indentation"]
    },
    {
      "name": "nested_multi_line",
      "description": "Multi-line nested value",
      "input": "key =\n  line1\n  line2",
      "expected": [
        {"key": "key", "value": "\n  line1\n  line2"}
      ],
      "tags": ["nested", "indentation", "multiline"]
    },
    {
      "name": "nested_with_blank_line",
      "description": "Multi-line nested value with blank line",
      "input": "key =\n  line1\n\n  line2",
      "expected": [
        {"key": "key", "value": "\n  line1\n\n  line2"}
      ],
      "tags": ["nested", "indentation", "multiline", "blank-lines"]
    },
    {
      "name": "nested_key_value_pairs",
      "description": "Nested key-value pairs treated as continuation value",
      "input": "key =\n  field1 = value1\n  field2 = value2",
      "expected": [
        {"key": "key", "value": "\n  field1 = value1\n  field2 = value2"}
      ],
      "tags": ["nested", "indentation", "equals", "continuation"]
    },
    {
      "name": "deep_nested_structure",
      "description": "Deep nested key-value pairs with multiple indentation levels",
      "input": "key =\n  field1 = value1\n  field2 =\n    subfield = x\n    another = y",
      "expected": [
        {"key": "key", "value": "\n  field1 = value1\n  field2 =\n    subfield = x\n    another = y"}
      ],
      "tags": ["nested", "indentation", "deep", "continuation"]
    },
    {
      "name": "section_style_syntax",
      "description": "Section-style syntax creates empty key entry",
      "input": "== Section 2 ==",
      "expected": [
        {"key": "", "value": "= Section 2 =="}
      ],
      "tags": ["section", "empty-key", "special-syntax"]
    },
    {
      "name": "multiple_empty_equality",
      "description": "Multiple equals with empty key",
      "input": " =  = ",
      "expected": [
        {"key": "", "value": "="}
      ],
      "tags": ["empty-key", "multiple-equals", "whitespace"]
    },
    {
      "name": "key_with_newline_before_equals",
      "description": "Key with newline before equals sign",
      "input": "key \n= val\n",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["whitespace", "newlines", "edge-case"]
    },
    {
      "name": "complex_multi_newline_whitespace",
      "description": "Complex whitespace with multiple newlines",
      "input": "  \n key  \n=  val  \n",
      "expected": [
        {"key": "key", "value": "val"}
      ],
      "tags": ["whitespace", "newlines", "edge-case"]
    },
    {
      "name": "empty_value_with_trailing_spaces_newline",
      "description": "Empty value with trailing spaces and newline",
      "input": "key =  \n",
      "expected": [
        {"key": "key", "value": ""}
      ],
      "tags": ["empty-value", "whitespace", "newlines"]
    },
    {
      "name": "empty_key_value_with_surrounding_newlines",
      "description": "Empty key and value with surrounding newlines",
      "input": "\n  =  \n",
      "expected": [
        {"key": "", "value": ""}
      ],
      "tags": ["empty-key", "empty-value", "newlines", "whitespace"]
    },
    {
      "name": "comment_syntax_slash_equals",
      "description": "Comment syntax using slash equals",
      "input": "/= this is a comment",
      "expected": [
        {"key": "/", "value": "this is a comment"}
      ],
      "tags": ["comment", "special-syntax"]
    },
    {
      "name": "realistic_stress_test",
      "description": "Real-world configuration example",
      "input": "name = Dmitrii Kovanikov\nlogin = chshersh\nlanguage = OCaml\ndate = 2024-05-25",
      "expected": [
        {"key": "name", "value": "Dmitrii Kovanikov"},
        {"key": "login", "value": "chshersh"},
        {"key": "language", "value": "OCaml"},
        {"key": "date", "value": "2024-05-25"}
      ],
      "tags": ["realistic", "multiple-pairs", "stress-test"]
    },
    {
      "name": "quotes_treated_as_literal_unquoted",
      "description": "Quotes should be treated as literal characters (unquoted case)",
      "input": "host = localhost",
      "expected": [
        {"key": "host", "value": "localhost"}
      ],
      "tags": ["quotes", "literal"]
    },
    {
      "name": "quotes_treated_as_literal_quoted",
      "description": "Quotes should be treated as literal characters (quoted case)",
      "input": "host = \"localhost\"",
      "expected": [
        {"key": "host", "value": "\"localhost\""}
      ],
      "tags": ["quotes", "literal"]
    },
    {
      "name": "multiple_values_same_key_ports",
      "description": "Multiple values for same key (ports example)",
      "input": "ports = 8000\nports = 8001\nports = 8002",
      "expected": [
        {"key": "ports", "value": "8000"},
        {"key": "ports", "value": "8001"},
        {"key": "ports", "value": "8002"}
      ],
      "tags": ["duplicate-keys", "multiple-values"]
    },
    {
      "name": "mixed_keys_with_duplicates",
      "description": "Mixed keys with some duplicates",
      "input": "name = app\nports = 8000\nname = service\nports = 8001",
      "expected": [
        {"key": "name", "value": "app"},
        {"key": "ports", "value": "8000"},
        {"key": "name", "value": "service"},
        {"key": "ports", "value": "8001"}
      ],
      "tags": ["duplicate-keys", "mixed"]
    }
  ],
  "error_tests": [
    {
      "name": "just_key_error",
      "description": "Key without equals should cause error",
      "input": "key",
      "expected_error": true,
      "error_message": "end_of_input",
      "tags": ["error", "incomplete"]
    },
    {
      "name": "whitespace_only_error",
      "description": "Input with only whitespace should cause error",
      "input": "   ",
      "expected_error": true,
      "error_message": "not_enough_input", 
      "tags": ["error", "whitespace", "empty"]
    },
    {
      "name": "just_string_error",
      "description": "Plain string without equals should cause error",
      "input": "val",
      "expected_error": true,
      "error_message": "not_enough_input",
      "tags": ["error", "incomplete"]
    },
    {
      "name": "multiline_plain_error",
      "description": "Multiline plain text without equals should cause error",
      "input": "val\n  next",
      "expected_error": true,
      "error_message": "not_enough_input",
      "tags": ["error", "multiline", "incomplete"]
    },
    {
      "name": "multiline_plain_nested_error",
      "description": "Nested multiline plain text should cause error",
      "input": "\nval\n  next",
      "expected_error": true,
      "error_message": "end_of_input",
      "tags": ["error", "multiline", "nested", "incomplete"]
    }
  ],
  "nested_tests": [
    {
      "name": "recursive_nested_single",
      "description": "Single nested value should be recursively parsed",
      "input": "database =\n  enabled = true",
      "expected_flat": [
        {"key": "database", "value": "\n  enabled = true"}
      ],
      "expected_nested": {
        "database": {
          "enabled": "true"
        }
      },
      "tags": ["recursive", "nested", "basic"]
    },
    {
      "name": "recursive_nested_multiple",
      "description": "Multiple nested values should be recursively parsed",
      "input": "database =\n  host = localhost\n  port = 5432\n  enabled = true",
      "expected_flat": [
        {"key": "database", "value": "\n  host = localhost\n  port = 5432\n  enabled = true"}
      ],
      "expected_nested": {
        "database": {
          "host": "localhost",
          "port": "5432", 
          "enabled": "true"
        }
      },
      "tags": ["recursive", "nested", "multiple"]
    },
    {
      "name": "deep_recursive_nesting",
      "description": "Deeply nested structures should be fully parsed",
      "input": "server =\n  database =\n    host = localhost\n    port = 5432\n  cache =\n    enabled = true",
      "expected_flat": [
        {"key": "server", "value": "\n  database =\n    host = localhost\n    port = 5432\n  cache =\n    enabled = true"}
      ],
      "expected_nested": {
        "server": {
          "database": {
            "host": "localhost",
            "port": "5432"
          },
          "cache": {
            "enabled": "true"
          }
        }
      },
      "tags": ["recursive", "nested", "deep"]
    },
    {
      "name": "multiple_keys_same_name_merge",
      "description": "Multiple entries with same key should merge in object construction",
      "input": "user =\n  name = alice\nuser =\n  age = 25",
      "expected_flat": [
        {"key": "user", "value": "\n  name = alice"},
        {"key": "user", "value": "\n  age = 25"}
      ],
      "expected_nested": {
        "user": {
          "name": "alice",
          "age": "25"
        }
      },
      "tags": ["merge", "duplicate-keys", "object-construction"]
    },
    {
      "name": "empty_key_list_style",
      "description": "Empty keys create list-style structures",
      "input": "ports =\n  = 8000\n  = 8001\n  = 8002",
      "expected_flat": [
        {"key": "ports", "value": "\n  = 8000\n  = 8001\n  = 8002"}
      ],
      "expected_nested": {
        "ports": {
          "": ["8000", "8001", "8002"]
        }
      },
      "tags": ["empty-key", "lists", "array-style"]
    },
    {
      "name": "stress_test_complex_nesting",
      "description": "Complex stress test based on OCaml reference implementation",
      "input": "/ = This is a CCL document\ntitle = CCL Example\n\ndatabase =\n  enabled = true\n  ports =\n    = 8000\n    = 8001\n    = 8002\n  limits =\n    cpu = 1500mi\n    memory = 10Gb\n\nuser =\n  guestId = 42\n\nuser =\n  login = chshersh\n  createdAt = 2024-12-31",
      "expected_flat": [
        {"key": "/", "value": "This is a CCL document"},
        {"key": "title", "value": "CCL Example"},
        {"key": "database", "value": "\n  enabled = true\n  ports =\n    = 8000\n    = 8001\n    = 8002\n  limits =\n    cpu = 1500mi\n    memory = 10Gb"},
        {"key": "user", "value": "\n  guestId = 42"},
        {"key": "user", "value": "\n  login = chshersh\n  createdAt = 2024-12-31"}
      ],
      "expected_nested": {
        "/": "This is a CCL document",
        "title": "CCL Example",
        "database": {
          "enabled": "true",
          "ports": {
            "": ["8000", "8001", "8002"]
          },
          "limits": {
            "cpu": "1500mi",
            "memory": "10Gb"
          }
        },
        "user": {
          "guestId": "42",
          "login": "chshersh",
          "createdAt": "2024-12-31"
        }
      },
      "tags": ["stress", "complex", "merge", "empty-key", "comments"]
    },
    {
      "name": "empty_key_top_level",
      "description": "Empty keys at top level should be supported",
      "input": "= root_value\nkey = normal\n= another_root",
      "expected_flat": [
        {"key": "", "value": "root_value"},
        {"key": "key", "value": "normal"},
        {"key": "", "value": "another_root"}
      ],
      "expected_nested": {
        "": ["root_value", "another_root"],
        "key": "normal"
      },
      "tags": ["empty-key", "top-level", "merge"]
    },
    {
      "name": "mixed_flat_and_nested",
      "description": "Mix of flat values and nested structures",
      "input": "simple = value\nnested =\n  key1 = val1\n  key2 = val2\nanother = simple",
      "expected_flat": [
        {"key": "simple", "value": "value"},
        {"key": "nested", "value": "\n  key1 = val1\n  key2 = val2"},
        {"key": "another", "value": "simple"}
      ],
      "expected_nested": {
        "simple": "value",
        "nested": {
          "key1": "val1",
          "key2": "val2"
        },
        "another": "simple"
      },
      "tags": ["mixed", "flat", "nested"]
    },
    {
      "name": "tab_only_indentation",
      "description": "Multiline value using only tab characters for indentation",
      "input": "config = First line\n\tTab indented line\n\tAnother tab line\nnext = value",
      "expected": [
        {"key": "config", "value": "First line\n\tTab indented line\n\tAnother tab line"},
        {"key": "next", "value": "value"}
      ],
      "tags": ["multiline", "tabs", "indentation"]
    }
  ],
  "algebraic_tests": [
    {
      "name": "monoid_identity_left_empty",
      "description": "Empty list is left identity for entry concatenation",
      "property": "monoid_identity_left",
      "input1": "",
      "input2": "key = value",
      "expected_combined": [
        {"key": "key", "value": "value"}
      ],
      "tags": ["algebraic", "monoid", "identity"]
    },
    {
      "name": "monoid_identity_right_empty", 
      "description": "Empty list is right identity for entry concatenation",
      "property": "monoid_identity_right",
      "input1": "key = value",
      "input2": "",
      "expected_combined": [
        {"key": "key", "value": "value"}
      ],
      "tags": ["algebraic", "monoid", "identity"]
    },
    {
      "name": "monoid_identity_both_empty",
      "description": "Empty combined with empty produces empty",
      "property": "monoid_identity_reflexive",
      "input1": "",
      "input2": "",
      "expected_combined": [],
      "tags": ["algebraic", "monoid", "identity"]
    },
    {
      "name": "semigroup_associativity_three_configs",
      "description": "Entry concatenation is associative: (a+b)+c = a+(b+c)",
      "property": "semigroup_associativity",
      "input1": "a = 1",
      "input2": "b = 2",
      "input3": "c = 3",
      "expected_left_assoc": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "c", "value": "3"}
      ],
      "expected_right_assoc": [
        {"key": "a", "value": "1"},
        {"key": "b", "value": "2"},
        {"key": "c", "value": "3"}
      ],
      "tags": ["algebraic", "semigroup", "associativity"]
    },
    {
      "name": "semigroup_associativity_with_duplicates",
      "description": "Associativity preserves duplicate key order",
      "property": "semigroup_associativity",
      "input1": "key = first",
      "input2": "key = second\nother = value",
      "input3": "key = third",
      "expected_left_assoc": [
        {"key": "key", "value": "first"},
        {"key": "key", "value": "second"},
        {"key": "other", "value": "value"},
        {"key": "key", "value": "third"}
      ],
      "expected_right_assoc": [
        {"key": "key", "value": "first"},
        {"key": "key", "value": "second"},
        {"key": "other", "value": "value"},
        {"key": "key", "value": "third"}
      ],
      "tags": ["algebraic", "semigroup", "associativity", "duplicate-keys"]
    },
    {
      "name": "composition_closure_property",
      "description": "Combining valid CCL inputs always produces valid CCL",
      "property": "closure",
      "input1": "name = alice\nage = 25",
      "input2": "city = boston\nage = 26",
      "expected_combined": [
        {"key": "name", "value": "alice"},
        {"key": "age", "value": "25"},
        {"key": "city", "value": "boston"},
        {"key": "age", "value": "26"}
      ],
      "tags": ["algebraic", "closure", "composition"]
    },
    {
      "name": "text_concat_preserves_parsing",
      "description": "Text concatenation with newline preserves individual parsing",
      "property": "concatenation_equivalence", 
      "input1": "key1 = val1",
      "input2": "key2 = val2",
      "expected_text_concat": "key1 = val1\nkey2 = val2",
      "expected_combined": [
        {"key": "key1", "value": "val1"},
        {"key": "key2", "value": "val2"}
      ],
      "tags": ["algebraic", "concatenation", "text-level"]
    },
    {
      "name": "multiline_composition_stability",
      "description": "Multiline values maintain structure during composition",
      "property": "structure_preservation",
      "input1": "desc = Line 1\n  Line 2",
      "input2": "other = simple",
      "expected_combined": [
        {"key": "desc", "value": "Line 1\n  Line 2"},
        {"key": "other", "value": "simple"}
      ],
      "tags": ["algebraic", "multiline", "structure-preservation"]
    },
    {
      "name": "empty_key_list_composition",
      "description": "Empty key lists compose properly maintaining order",
      "property": "list_composition",
      "input1": "= first\n= second",
      "input2": "= third\n= fourth",
      "expected_combined": [
        {"key": "", "value": "first"},
        {"key": "", "value": "second"},
        {"key": "", "value": "third"},
        {"key": "", "value": "fourth"}
      ],
      "tags": ["algebraic", "empty-key", "lists", "composition"]
    },
    {
      "name": "comment_preservation_composition",
      "description": "Comment entries are preserved during composition",
      "property": "comment_preservation",
      "input1": "/= Section 1\nkey1 = val1",
      "input2": "/= Section 2\nkey2 = val2", 
      "expected_combined": [
        {"key": "/", "value": "Section 1"},
        {"key": "key1", "value": "val1"},
        {"key": "/", "value": "Section 2"},
        {"key": "key2", "value": "val2"}
      ],
      "tags": ["algebraic", "comments", "preservation"]
    },
    {
      "name": "nested_structure_associativity",
      "description": "Nested configurations maintain associativity",
      "property": "nested_associativity",
      "input1": "db =\n  host = localhost",
      "input2": "db =\n  port = 5432",
      "input3": "app =\n  name = myapp",
      "expected_left_assoc": [
        {"key": "db", "value": "\n  host = localhost"},
        {"key": "db", "value": "\n  port = 5432"},
        {"key": "app", "value": "\n  name = myapp"}
      ],
      "expected_right_assoc": [
        {"key": "db", "value": "\n  host = localhost"},
        {"key": "db", "value": "\n  port = 5432"},
        {"key": "app", "value": "\n  name = myapp"}
      ],
      "tags": ["algebraic", "nested", "associativity"]
    },
    {
      "name": "unicode_composition_stability",
      "description": "Unicode content is stable under composition",
      "property": "unicode_stability",
      "input1": "ÈÖçÁΩÆ = ‰∏≠ÊñáÈÖçÁΩÆ\nemoji = üòÄ",
      "input2": "–∫–ª—é—á = —Ä—É—Å—Å–∫–∏–π\nemoji = üòÉ",
      "expected_combined": [
        {"key": "ÈÖçÁΩÆ", "value": "‰∏≠ÊñáÈÖçÁΩÆ"},
        {"key": "emoji", "value": "üòÄ"},
        {"key": "–∫–ª—é—á", "value": "—Ä—É—Å—Å–∫–∏–π"},
        {"key": "emoji", "value": "üòÉ"}
      ],
      "tags": ["algebraic", "unicode", "composition"]
    }
  ]
}