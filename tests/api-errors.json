{
  "$schema": "./schema.json",
  "suite": "CCL Error Cases (Validation Format)",
  "version": "2.0",
  "description": "Error handling tests - malformed input detection across all levels using validation format",
  "tests": [
    {
      "name": "just_key_error",
      "input": "key",
      "validations": {
        "parse": {
          "count": 1,
          "error": true,
          "error_message": "end_of_input"
        }
      },
      "meta": {
        "tags": [
          "function:parse"
        ],
        "level": 1,
        "feature": "error-handling"
      }
    },
    {
      "name": "whitespace_only_error",
      "input": "   ",
      "validations": {
        "parse": {
          "count": 1,
          "error": true,
          "error_message": "not_enough_input"
        }
      },
      "meta": {
        "tags": [
          "feature:whitespace",
          "function:parse",
          "variant:proposed-behavior"
        ],
        "level": 1,
        "feature": "error-handling",
        "conflicts": ["variant:reference-compliant"]
      }
    },
    {
      "name": "whitespace_only_error_ocaml_reference",
      "input": "   ",
      "validations": {
        "parse": {
          "count": 0,
          "expected": []
        }
      },
      "meta": {
        "tags": [
          "feature:whitespace",
          "function:parse",
          "variant:reference-compliant"
        ],
        "level": 1,
        "feature": "parsing",
        "conflicts": ["variant:proposed-behavior"]
      }
    },
    {
      "name": "just_string_error",
      "input": "val",
      "validations": {
        "parse": {
          "count": 1,
          "error": true,
          "error_message": "not_enough_input"
        }
      },
      "meta": {
        "tags": [
          "function:parse"
        ],
        "level": 1,
        "feature": "error-handling"
      }
    },
    {
      "name": "multiline_plain_error",
      "input": "val\n  next",
      "validations": {
        "parse": {
          "count": 1,
          "error": true,
          "error_message": "not_enough_input"
        }
      },
      "meta": {
        "tags": [
          "feature:multiline",
          "function:parse"
        ],
        "level": 1,
        "feature": "error-handling"
      }
    },
    {
      "name": "multiline_plain_nested_error",
      "input": "\nval\n  next",
      "validations": {
        "parse": {
          "count": 1,
          "error": true,
          "error_message": "end_of_input"
        }
      },
      "meta": {
        "tags": [
          "feature:multiline",
          "function:make-objects",
          "function:parse"
        ],
        "level": 1,
        "feature": "error-handling"
      }
    }
  ]
}
